<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>문의하기</title>
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}" />
</head>
<body class="contact_body">
    <div class="contact_div">
        <h1>문의하기</h1>

        <!-- Flask에서 flash 메시지를 보여주는 부분 -->
        {% with messages = get_flashed_messages() %} <!--flash 메시지들을 messages라는 변수로 가져오기 -->
        {% if messages %}

        <!-- 메시지를 목록으로 보여주기 시작 -->
        <ul>
            <!-- messages 안에 있는 각각의 메시지를 반복 -->
            {% for message in messages %}

            <!-- 메시지 하나를 리스트 아이템으로 표시 -->
            <li class="flash">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %} 
        {% endwith %}

        <!-- 문의 내용을 서버로 전송하는 폼 -->
        <form action="{{ url_for('contact_complete') }}" method="POST">

            <!-- 사용자명 입력 영역 -->
            <div class="label_input_div">
                <label>사용자명</label>

                <!-- 사용자 이름 입력 필드 -->
                <!-- value는 서버에서 전달된 값으로, 입력 실패 시에도 값 유지 -->
                <input
                    class="contact_input"
                    type="text"
                    name="username"
                    value="{{ username }}"
                    placeholder="사용자명"
                    required
                />
            </div>

            <!-- 이메일 주소 입력 영역 -->
            <div class="label_input_div">
                <label>메일 주소</label>

                <!-- 이메일 입력 필드 -->
                <input
                    class="contact_input"
                    type="text"
                    name="email"
                    value="{{ email }}"
                    placeholder="메일 주소"
                    required
                />
            </div>

            <!-- 문의 내용 입력 영역 -->
            <div class="label_input_div">
                <label>문의 내용</label>

                <!-- 문의 상세 내용을 입력하는 텍스트 영역 -->
                <!-- textarea는 value 속성 대신 태그 사이에 값 사용 -->
                <textarea
                    class="contact_textarea"
                    name="description"
                    placeholder="문의 내용"
                    required
                >{{ description }}</textarea>
            </div>

            <!-- 문의 접수 버튼 -->
            <button
                class="contact_button"
                type="submit"
                value="문의"
            >
                접수하기
            </button>
        </form>
    </div>
</body>
</html>