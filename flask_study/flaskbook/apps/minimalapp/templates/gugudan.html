<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>구구단 : {{num}}단</title>
    <link
        rel="stylesheet"
        href="{{url_for('static', filename='style.css')}}"
    />
</head>
<body>
    <div class="gugudan_div">
        <!-- 구구단 숫자를 입력하는 폼 (GET 방식으로 서버에 전달됨) -->
        <form action="{{url_for('dan', num=num)}}" method="GET">

            <!-- 안내 문구 -->
            <label>다른 구구단을 보시려면 숫자를 입력해주세요!</label>
            <div class="gugudan_input_button_div">

                <!-- 사용자가 숫자를 입력하는 칸
                 name="num" → 서버로 보낼 값의 이름
                 value="{{ user_input or '' }}" → 이전 입력값을 유지, 없으면 빈칸 -->
                <input class="gugudan_input" type="text" name="num" value="{{ user_input or '' }}" placeholder="숫자 입력" />
                
                <!-- 버튼을 누르면 폼이 전송됨
                 type="submit" → 서버로 보내기 -->
                <button class="gugudan_button" type="submit" value="문의">구구단 보기</button>
            </div>
        </form>
        <!-- 오류 메시지를 보여주는 부분
         서버에서 error_message가 있으면 화면에 빨간 글씨로 표시 -->
        {% if error_message %}
            <p style="color:red">{{ error_message }}</p>
        {% endif %}

        <!-- 구구단 출력: num 값이 있을 때만 표시 -->
        {% if num %}
            <h1 class="gugudan_h1">{{num}}단</h1>
            <ul class="gugu-list">
                {% for n in range(1, 10) %}
                    <li>{{num}} x {{n}} = {{num*n}}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
</body>
</html>